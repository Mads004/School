const data = {
"questions": [
{
"question": "Hvilket flagg er dette?",
"answers": [
"Norge",
"Sverige",
"Danmark",
"Finland"
],
"correctIndex": 1
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Belgia",
"Polen",
"Tyskland",
"Estland"
],
"correctIndex": 3
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Spania",
"Italia",
"Sveits",
"Frankrike"
],
"correctIndex": 4
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Mexico",
"Chile",
"Spania",
"Argentina"
],
"correctIndex": 3
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Canada",
"USA",
"England",
"Australia"
],
"correctIndex": 2
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Bulgaria",
"Nederland",
"Polen",
"Russland"
],
"correctIndex": 4
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Egypt",
"Israel",
"India",
"Syria"
],
"correctIndex": 1
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Japan",
"Vietnam",
"Kina",
"Taiwan"
],
"correctIndex": 3
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"Brasil",
"Portugal",
"Marokko",
"Colombia"
],
"correctIndex": 1
},
{
"question": "Hvilket flagg er dette?",
"answers": [
"New Zealand",
"Indonesia",
"Australia",
"Madagaskar"
],
"correctIndex": 3
},
    ]
}

var count = 0;
var poeng = 0;

document.getElementById('answerArea').style.display = "none";
document.getElementById('next').innerText = "Start Spillet";

document.getElementById("next").onclick = function() {
  console.log('start spillet');
  showContent();
  changeContent(count);
}

function showContent() {
  document.getElementById('answerArea').style.display = "flex";
  document.getElementById('next').innerText = "Neste spørsmål";
}

function changeContent(count) {

  if (count <= 11) {

      updateAnswers(count);

  } else {
    console.log('Spillet er ferdig. Du har poeng:', poeng);
    document.getElementById('answerArea').style.display = "none";
    document.getElementById('sporsmal').innerText = "Gratulerer, du er ferdig. Du har klart "+poeng+" av 10 poeng";
    document.getElementById('nextButton').style.display = "none";
  }

}

/*document.getElementById("nextButton").addEventListener("click", function() {
    count++;
    update_answers(count);
});*/

function updateAnswers(count) {
  var question = data.questions[count].question;
  var alternativ1 = data.questions[count].answers[0];
  var alternativ2 = data.questions[count].answers[1];
  var alternativ3 = data.questions[count].answers[2];
  var alternativ4 = data.questions[count].answers[3];

  //Forandre svarealternative i knappene.
  // Change text in html javascript

  document.getElementById("sporsmal").innerText = question;
  document.getElementById("1").innerText = alternativ1;
  document.getElementById("2").innerText = alternativ2;
  document.getElementById("3").innerText = alternativ3;
  document.getElementById("4").innerText = alternativ4;
}

document.getElementById("1").onclick = function() {
  var correctIndex = data.questions[count].correctIndex;
  console.log(count);
  if (correctIndex == 1) {
    console.log('Du svarte riktig');
    poeng++;
    console.log('Du har poeng: ', poeng);
  }
  count++;
  changeContent(count);
}
//Alternativ 1
document.getElementById("2").onclick = function() {
  var correctIndex = data.questions[count].correctIndex;
  //
  console.log(count);
  if (correctIndex == 2) {
    console.log('Du svarte riktig');
    poeng++;
  }
  count++;

}
// 2
document.getElementById("3").onclick = function() {
  var correctIndex = data.questions[count].correctIndex;
  //count++;
  console.log(count);
  if (correctIndex == 3) {
    console.log('Du svarte riktig');
    poeng++;
  }
  count++;
  changeContent(count);

}

// 3
document.getElementById("4").onclick = function() {
  var correctIndex = data.questions[count].correctIndex;
  //count++;
  console.log(count);
  if (correctIndex == 4) {
    console.log('Du svarte riktig');
    poeng++;
  }
  count++;
  changeContent(count);
}

url = 'https://api.met.no/weatherapi/locationforecast/2.0/complete?lat=-16.516667&lon=-68.166667&altitude=4150'

fetch(url).then(function(response) {
  console.log(response.json());
});
